<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="https://blog.dmesg.sh/images/logo.png">
<meta name="generator" content="Hugo 0.57.2" />


    <title>Design of the Unix Operating System: General Overview of Filesystem - Linh Nguyen&#39;s Blog</title>
    <meta property="og:title" content="Design of the Unix Operating System: General Overview of Filesystem - Linh Nguyen&#39;s Blog">
    <meta property="og:site_name" content="Linh Nguyen&#39;s Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="" />
    
    <meta property="og:url" content="https://blog.dmesg.sh/post/design-of-the-unix-operating-system-general-overview-of-file-system.html" />
    <meta property="article:published_time" content="2021-08-17T23:53:22Z" />
    

    <meta property="article:publisher" content="#" />
    <meta property="article:author" content="#" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Design of the Unix Operating System: General Overview of Filesystem - Linh Nguyen&#39;s Blog" />
    <meta name="twitter:description" content="" />
    <meta name="twitter:url" content="https://blog.dmesg.sh/post/design-of-the-unix-operating-system-general-overview-of-file-system.html" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Linh Nguyen" />
    <meta name="twitter:site" content="https://twitter.com/@tanlinhnd" />
    <meta name="twitter:creator" content="@tanlinhnd" />



  







<script async src="https://www.googletagmanager.com/gtag/js?id=G-ZYB28TCKZV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZYB28TCKZV');
</script>

<link rel="stylesheet" href="https://blog.dmesg.sh/css/main.css?v=1.0.2" media="all">
<link rel="stylesheet" href="https://blog.dmesg.sh/css/font-awesome.min.css" media="all">
<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://blog.dmesg.sh/" class="nav-logo">
    <img src="https://blog.dmesg.sh/images/logo.png" 
         width="50" 
         height="50" 
         alt="rbash - NÃ³i Ã­t thÃ´i vÃ  Ä‘Æ°a code Ä‘Ã¢y">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about-me.html">About me</a></li>
    
    <li><a href="/tag/database">Database</a></li>
    
    <li><a href="/tag/devops">DevOps</a></li>
    
    <li><a href="/tag/linux">Linux</a></li>
    
    <li><a href="https://blog.dmesg.sh/LinhNguyen_DevOps_Resume.pdf">Resume</a></li>
    
    <li><a href="/tag/til">TIL</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

<article class="article">
    
    <span class="article-duration"><i class="fa fa-clock-o"></i> 8 min read</span>
    

    <h1 class="article-title">Design of the Unix Operating System: General Overview of Filesystem</h1>

    
    <span class="article-date"><i class="fa fa-calendar"></i> August 17, 2021</span>
    

    <div class="article-content">
        

<p>Hi, lÃ¢u ngÃ y quÃ¡. Thá»±c sá»± thÃ¬ lÆ°á»i láº¯m láº¯m, gáº§n 3 nÄƒm rá»“i mÃ¬nh má»›i má»Ÿ láº¡i cÃ¡i blog sau 2 láº§n Ä‘á»•i domain ğŸ˜†</p>

<p>Gáº§n Ä‘Ã¢y, trong má»™t láº§n lang thang thÃ¬ báº¯t gáº·p comment cá»§a anh huydx vá» cuá»‘n &ldquo;Design of The Unix Operating System&rdquo;. Tiá»‡n lÃºc Ä‘ang tÃ¬m job má»›i nÃªn mÃ¬nh quyáº¿t tÃ¢m dÃ nh thá»i gian Ä‘á»c vÃ  nghiÃªn cá»©u sÃ¢u hÆ¡n vá» OS cÅ©ng nhÆ° Kernel. TÃ¨n ten, do váº­y chÃºng ta cÃ³ post nÃ y Ä‘Ã¢y. Äi thÃ´i nÃ o.</p>

<blockquote>
<p>CÃ³ nhiá»u pháº§n mÃ¬nh viáº¿t láº¡i khÃ´ng thoÃ¡t nghÄ©a nÃªn sáº½ ghi chÃº thÃªm pháº§n nguyÃªn vÄƒn nhÃ© hoáº·c dÃ¹ng luÃ´n tiáº¿ng anh nhÃ©.</p>
</blockquote>

<h2 id="1-why-unix-became-so-popular">1. Why UNIX became so popular?</h2>

<p>Tá»« nhá»¯ng nÄƒm 1984, Ä‘Ã£ cÃ³ khoáº£ng 100,000 Unix system Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn tháº¿ giá»›i, cháº¡y trÃªn nhiá»u ná»n táº£ng khÃ¡c nhau tá»« microprocessors Ä‘áº¿n cÃ¡c mÃ¡y mainframes. ChÆ°a tá»«ng cÃ³ má»™t OS nÃ o khÃ¡c cÃ³ thá»ƒ lÃ m Ä‘iá»u tÆ°Æ¡ng tá»±. VÃ  Ä‘á»ƒ tráº£ lá»i cho cÃ¢u há»i trÃªn, chÃºng ta cÃ³ vÃ i Ã½ nhÆ° sau:</p>

<ul>
<li>ÄÆ°á»£c viáº¿t bá»Ÿi high-level language, do Ä‘Ã³ dá»… dÃ ng Ä‘á»c hiá»ƒu cÅ©ng nhÆ° thay Ä‘á»•i, hoáº¡t Ä‘á»™ng trÃªn nhiá»u ná»n táº£ng khÃ¡c nhau. Denis Ritchie [1] tÃ­nh toÃ¡n ráº±ng first system viáº¿t báº±ng C thÃ¬ cháº­m hÆ¡n vÃ  lá»›n hÆ¡n tá»« 20-40% so vá»›i viáº¿t báº±ng Assembly. Äá»•i láº¡i, nhá»¯ng Æ°u Ä‘iá»ƒm khi viáº¿t báº±ng high-level language lÃ  vÆ°á»£t trá»™i náº¿u so vá»›i nhá»¯ng khuyáº¿t Ä‘iá»ƒm cÃ²n láº¡i.</li>
<li>Unix cung cáº¥p 1 interface Ä‘Æ¡n giáº£n nhÆ°ng cá»±c ká»³ máº¡nh máº½. Nhá»¯ng chÆ°Æ¡ng trÃ¬nh phá»©c táº¡p cÃ³ thá»ƒ build tá»« nhá»¯ng chÆ°Æ¡ng trÃ¬nh Ä‘Æ¡n giáº£n hÆ¡n (NguyÃªn vÄƒn: It provides primitives that permit complex programs to be built from simpler
programs)</li>
<li>Unix sá»­ dá»¥ng má»™t file system dáº¡ng phÃ¢n cáº¥p, dá»… dÃ ng Ä‘á»ƒ maintain cÅ©ng nhÆ° implement</li>
<li>Sá»­ dá»¥ng byte stream cho Ä‘á»‹nh dáº¡ng file, cÃ¡c chÆ°Æ¡ng trÃ¬nh sáº½ dá»… dÃ ng Ä‘á»ƒ write hÆ¡n.</li>
<li>Cung cáº¥p má»™t interface Ä‘Æ¡n giáº£n vÃ  nháº¥t quÃ¡n cho cÃ¡c thiáº¿t bá»‹ ngoáº¡i vi</li>
<li>Multi user, multi process system, má»—i user cÃ³ thá»ƒ  nhiá»u tÃ¡c vá»¥ Ä‘á»“ng thá»i</li>
<li>áº¨n Ä‘i cÃ¡c kiáº¿n trÃºc cá»§a pháº§n cá»©ng vá»›i ngÆ°á»i dÃ¹ng, giÃºp cho há» dá»… dÃ ng viáº¿t nhá»¯ng chÆ°Æ¡ng trÃ¬nh hoáº¡t Ä‘á»™ng trÃªn nhiá»u pháº§n cá»©ng khÃ¡c nhau.</li>
</ul>

<h2 id="2-architecture-of-the-unix-operating-system">2. Architecture of the UNIX Operating System</h2>

<p><img src="/design-of-the-unix-os/2-concepts-of-unix.png" alt="2 concepts in the Unix system model" /></p>

<p>File vÃ  process lÃ  2 central concepts cá»§a Unix system model. á» Ä‘Ã¢y, cÃ³ 3 level mÃ  chÃºng ta dá»… dÃ ng nháº­n tháº¥y Ä‘Ã³ lÃ : user, kernel vÃ  hardware.</p>

<p>Vá»›i kiáº¿n trÃºc cá»§a Unix, Kernel tÆ°Æ¡ng tÃ¡c trá»±c tiáº¿p vá»›i pháº§n cá»©ng, cung cáº¥p cÃ¡c interface cho chÆ°Æ¡ng trÃ¬nh cÅ©ng nhÆ° cÃ´ láº­p chÃºng khá»i pháº§n cá»©ng. VÃ­ dá»¥ nhá»¯ng chÆ°Æ¡ng trÃ¬nh nhÆ° sh, vi hay wc á»Ÿ layer ngoÃ i sáº½ tÆ°Æ¡ng tÃ¡c vá»›i Kernel thÃ´ng qua cÃ¡c API gá»i lÃ  system call.</p>

<p>Syscall cho phÃ©p cÃ¡c chÆ°Æ¡ng trÃ¬nh bÃªn ngoÃ i yÃªu cáº§u Kernel thá»±c thi cÃ¡c tÃ¡c vá»¥ cá»¥ thá»ƒ vÃ  cung cáº¥p cÆ¡ cháº¿ trao Ä‘á»•i dá»¯ liá»‡u giá»¯a chÆ°Æ¡ng trÃ¬nh vÃ  Kernel.</p>

<h2 id="3-an-overview-of-the-filesystem">3. An Overview of the Filesystem</h2>

<p>TrÃªn Unix, file system Ä‘áº·c trÆ°ng bá»Ÿi cÃ¡c tÃ­nh cháº¥t sau:</p>

<ul>
<li>Cáº¥u trÃºc phÃ¢n cáº¥p</li>
<li>Xá»­ lÃ½ nháº¥t quÃ¡n dá»¯ liá»‡u trong file</li>
<li>Kháº£ nÄƒng táº¡o cÅ©ng nhÆ° xÃ³a files</li>
<li>Kháº£ nÄƒng má»Ÿ rá»™ng file</li>
<li>Kháº£ nÄƒng báº£o vá»‡ dá»¯ liá»‡u trong file</li>
<li>Kháº£ nÄƒng xá»­ lÃ½ cÃ¡c thiáº¿t bá»‹ ngoáº¡i vi dÆ°á»›i dáº¡ng file</li>
</ul>

<p><img src="/design-of-the-unix-os/sample-file-system-tree.png" alt="Sample file system tree" /></p>

<p>Cháº¯c ráº±ng má»i ngÆ°á»i ai cÅ©ng biáº¿t, file system Ä‘Æ°á»£c tá»• chá»©c nhÆ° má»™t cÃ¡i cÃ¢y vá»›i gá»‘c cá»§a nÃ³ (root) Ä‘Æ°á»£c viáº¿t lÃ  <code>/</code>. CÃ¡c node non-leaf sáº½ lÃ  cÃ¡c thÆ° má»¥c (directory) vÃ  cÃ¡c files sáº½ lÃ  lÃ¡. ÄÆ°á»ng dáº«n cá»§a file (path name) sáº½ thá»ƒ hiá»‡n viá»‡c file Ä‘Æ°á»£c lÆ°u trá»¯ tháº¿ nÃ o trong há»‡ thá»‘ng phÃ¢n cáº¥p cá»§a file system. VÃ­ dá»¥ má»™t path name sáº½ cÃ³ dáº¡ng nhÆ° sau: <code>/usr/src/cmd/who.c</code>.</p>

<p>Inode (index node) lÃ  má»™t data-structure trong Unix file system chá»©a thÃ´ng tin vá» disk layout cá»§a dá»¯ liá»‡u trong file vÃ  cÃ¡c thÃ´ng tin khÃ¡c nhÆ° owner, access permission, access times. Má»—i má»™t file hoáº·c directory Ä‘áº¡i diá»‡n bá»Ÿi 1 inode. Tuy nhiÃªn, cÃ³ trÆ°á»ng há»£p file cÃ³ nhiá»u hÆ¡n 1 path name, vÃ  táº¥t cáº£ chÃºng map tá»›i má»™t inode, trÆ°á»ng há»£p nÃ y cÃ²n gá»i lÃ  hard-link.</p>

<p>Khi má»™t process create má»™t file má»›i, Kernel sáº½ assign nÃ³ vá»›i má»™t unused inode. Má»™t lá»—i mÃ  cÃ³ thá»ƒ cÃ¡c báº¡n Ä‘Ã£ tá»«ng gáº·p Ä‘Ã³ lÃ  kiá»ƒm tra dung lÆ°á»£ng partition báº±ng <code>df -h</code> váº«n cÃ²n trá»‘ng nhÆ°ng khÃ´ng táº¡o thÃªm Ä‘Æ°á»£c file má»›i do khÃ´ng cÃ²n inode trá»‘ng.</p>

<p>Kernel chá»©a 2 loáº¡i data-structure lÃ  <code>file table</code> vÃ  <code>user file descriptor table</code>. Vá»›i <code>file table</code> lÃ  global kernel structure, cÃ²n <code>file descriptor</code> Ä‘Æ°á»£c allocate cho má»—i process.</p>

<p>Má»—i khi process open hoáº·c create má»™t file, Kernel sáº½ cáº¥p phÃ¡t 1 entry trÃªn <code>file table</code> vÃ  <code>descriptor table</code> tÆ°Æ¡ng á»©ng vá»›i inode table. Entry trÃªn 3 table nÃ y cung cáº¥p tráº¡ng thÃ¡i cá»§a file vÃ  user nÃ o access nÃ³. <code>file table</code> sáº½ keep track byte offset cá»§a file, viá»‡c read vÃ  write cá»§a user sáº½ báº¯t Ä‘áº§u tá»« offset nÃ o. <code>desriptor table</code> Ä‘á»‹nh danh táº¥t cáº£ cÃ¡c file Ä‘ang má»Ÿ cá»§a má»™t process.</p>

<!-- ![3 table](/design-of-the-unix-os/3-table-file-data-structure.png) -->

<p><img src="/design-of-the-unix-os/relationship-between-3-tables.png" alt="Relationship between 3 tables" /></p>

<p>Kernel khi nháº­n Ä‘Æ°á»£c system call Ä‘á»ƒ open or create 1 má»™t, sáº½ return láº¡i má»™t <code>file descriptor table</code>, cá»¥ thá»ƒ nÃ³ lÃ  1 index trong user file descriptor table. Vá»›i má»—i process, <code>file descriptor table</code> sáº½ cÃ³ 1 entry cho má»—i FD vÃ  1 pointer tá»›i <code>file table</code>. Struct cá»§a fdtable Ä‘Æ°á»£c define trong <code>include/linux/fdtable.h</code>. CÃ¡c báº¡n cÃ³ thá»ƒ tham kháº£o táº¡i Ä‘Ã¢y <a href="https://elixir.bootlin.com/linux/latest/source/include/linux/fdtable.h">https://elixir.bootlin.com/linux/latest/source/include/linux/fdtable.h</a></p>

<p>Vá» máº·t logic, Kernel deal vá»›i file system thay vÃ¬ disk. Unix chia physical disk thÃ nh cÃ¡c logical disk gá»i lÃ  partition. Vá»›i má»—i partition lÃ  má»™t file system riÃªng biá»‡t, tá»« Ä‘Ã¢y vá» sau, file system sáº½ refer tá»›i má»™t single partition. Má»—i disk sáº½ Ä‘Æ°á»£c Ä‘áº¡i diá»‡n bá»Ÿi 1 major device number, vÃ  má»—i partition sáº½ gáº¯n vá»›i 1 minor device number.</p>

<p>File system chá»©a má»™t sá»‘ lÆ°á»£ng logical blocks tuáº§n tá»±, cÃ³ thá»ƒ chá»©a 512, 1024, 2048 hoáº·c má»™t bá»™i sá»‘ cá»§a 512 bytes. Size cá»§a local block lÃ  Ä‘á»“ng nháº¥t trong file system, cÃ³ thá»ƒ khÃ¡c tÃ¹y vÃ o cáº¥u hÃ¬nh cá»§a tá»«ng file system.</p>

<p><img src="/design-of-the-unix-os/file-system-structure.png" alt="file system structure" /></p>

<p>Má»—i file system sáº½ cÃ³ cáº¥u trÃºc nhÆ° trÃªn, trong Ä‘Ã³:</p>

<ul>
<li>Má»™t <code>boot block</code> náº±m trong 1 vÃ i sector Ä‘áº§u tiÃªn cá»§a file system. NÃ³ chá»©a boootstrap code dÃ¹ng Ä‘á»ƒ boot hoáº·c init OS. Chá»‰ cáº§n 1 <code>boot block</code> Ä‘á»ƒ boot OS, vÃ  thÆ°á»ng cÃ¡c file system khÃ¡c sáº½ cÃ³ <code>boot block</code> rá»—ng.</li>
<li>Má»™t <code>super block</code> mÃ´ táº£ tráº¡ng thÃ¡i cá»§a file system, vÃ­ dá»¥ nhÆ°: total size cá»§a partition, block size, pointer tá»›i cÃ¡c free block, inode number cá»§a root directory, magic number .v.v.</li>
<li>Tiáº¿p theo cá»§a <code>super block</code> lÃ  má»™t máº£ng cÃ¡c inode (<code>inode list</code>). Má»™t inode sáº½ lÃ  root inode cá»§a file system vÃ  lÃ  cáº¥u trÃºc thÆ° má»¥c cÃ³ thá»ƒ truy cáº­p Ä‘Æ°á»£c sau khi thá»±c hiá»‡n system call <code>mount</code>. User sáº½ lÃ m viá»‡c vá»›i file qua file name, cÃ²n Kernel sáº½ qua inode.</li>
<li>Cuá»‘i cÃ¹ng lÃ  <code>data block</code> chá»©a dá»¯ liá»‡u cá»§a file.</li>
</ul>

<p>á» trÃªn, chÃºng ta cÃ³ nÃ³i qua vá» má»™t sá»‘ thÃ´ng tin mÃ  inode lÆ°u trá»¯. Cá»¥ thá»ƒ vÃ  chi tiáº¿t nháº¥t, inode lÆ°u trá»¯ cÃ¡c thÃ´ng tin sau:</p>

<ul>
<li>Chá»§ sá»Ÿ há»¯u cá»§a file</li>
<li>Äá»‹nh dáº¡ng file (vÃ­ dá»¥ nhÆ°: regular, directory, special device, pipe .v.v)</li>
<li>Quyá»n truy cáº­p file</li>
<li>Thá»i gian access vÃ  chá»‰nh sá»­a cuá»‘i cÃ¹ng</li>
<li>Sá»‘ lÆ°á»£ng link trá» Ä‘áº¿n file</li>
<li>Pointers tá»›i data block cá»§a file</li>
<li>Dung lÆ°á»£ng file báº±ng bytes (vá»›i regular file), major vÃ  minor device number cho cÃ¡c device Ä‘áº·c biá»‡t</li>
<li>path name cá»§a file</li>
</ul>

<h2 id="4-duplicated-file-descriptors-between-processes">4. Duplicated file descriptors (between processes)</h2>

<p>Háº³n cÃ¡c báº¡n Ä‘Ã£ biáº¿t vá» Nginx, má»™t HTTP server cÅ©ng nhÆ° má»™t reverse proxy. Process model cá»§a Nginx Ä‘Æ°á»£c thá»ƒ hiá»‡n nhÆ° sau:</p>

<p><img src="/design-of-the-unix-os/infographic-Inside-NGINX_process-model.png" alt="The Nginx Process model" /></p>

<p>Kiá»ƒm tra status cá»§a Nginx báº±ng <code>systemctl</code>, chÃºng ta thu Ä‘Æ°á»£c:</p>

<p><img src="/design-of-the-unix-os/nginx-status.png" alt="Nginx status" /></p>

<p>Nginx sá»­ dá»¥ng má»™t Master Process vÃ  1 vÃ i Child Processes Ä‘á»ƒ handle requests. Trong Ä‘Ã³:</p>

<ul>
<li>Master process thá»±c hiá»‡n quáº£n lÃ½ cÃ¡c cáº¥u hÃ¬nh, binding cÃ¡c port cáº§n listen vÃ  create 1 sá»‘ cÃ¡c child processes con. CÃ³ 3 loáº¡i process con lÃ  Cache Manager, Cache Loader vÃ  Worker. Tuy nhiÃªn chÃºng ta sáº½ quan tÃ¢m Ä‘áº¿n Worker process</li>
<li>Worker processes thá»±c hiá»‡n handle network connections, read &amp; write content vÃ o disk cÅ©ng nhÆ° communicate vá»›i upstream servers.</li>
</ul>

<p>VÃ  bá»—ng dÆ°ng trong Ä‘áº§u báº¡n lÃ³e lÃªn 1 cÃ¢u há»i. &ldquo;á»¦a, Master process quáº£n lÃ½ binding port, lÃ m tháº¿ nÃ o mÃ  Worker láº¡i handle Ä‘Æ°á»£c network connection váº­y?&rdquo;. CÃ¢u tráº£ lá»i lÃ  file.</p>

<p>Táº¡i sao láº¡i nhÆ° váº­y? NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, táº¥t cáº£ má»i thá»© trong Unix Ä‘á»u lÃ  file, vÃ  socket cÅ©ng lÃ  file. ÄÃºng khÃ´ng nhá»‰ ğŸ˜. Váº¥n Ä‘á» cÃ²n láº¡i chá»‰ lÃ  lÃ m tháº¿ nÃ o Ä‘á»ƒ Master process share socket vá»›i Worker process.</p>

<p>Quay láº¡i model cá»§a Nginx, chÃºng ta nháº­n ra ráº±ng Worker processes Ä‘Æ°á»£c sinh ra bá»Ÿi Master process vÃ  cá»¥ thá»ƒ báº±ng hÃ m fork(2). HÃ m fork(2) create má»™t process con vÃ  copy file descriptor cá»§a process cha. Do váº­y, file descriptor cá»§a process con refer tá»›i cÃ¹ng má»™t open file description tÆ°Æ¡ng á»©ng trong file descriptor cá»§a process cha. Äá»“ng nghÄ©a vá»›i viá»‡c 2 file descriptor share cho nhau open file status flags, file offset vÃ  cáº£ signal-driven I/O attribures. CÃ¡c báº¡n cÃ³ thá»ƒ xem diagram bÃªn dÆ°á»›i.</p>

<p><img src="/design-of-the-unix-os/fork-child-process-table.png" alt="File descriptor table of child process" /></p>

<p>Tá»« Ä‘Ã¢y, cÃ¢u chuyá»‡n lÃ m tháº¿ nÃ o Ä‘á»ƒ Master process cÃ³ thá»ƒ share socket vá»›i Worker process Ä‘Ã£ sÃ¡ng tá». Má»™t vÃ­ dá»¥ báº±ng python cÃ¡c báº¡n cÃ³ thá»ƒ xem qua. Source code táº¡i <a href="https://gist.github.com/wjzhangq/474997">https://gist.github.com/wjzhangq/474997</a></p>

<p>Cháº¡y Ä‘oáº¡n code trÃªn. Káº¿t quáº£ thu Ä‘Æ°á»£c nhÆ° bÃªn dÆ°á»›i. Clear Ä‘Ãºng khÃ´ng ğŸ˜„</p>

<p><img src="/design-of-the-unix-os/fork-child-process-example.png" alt="Example of fork child process" /></p>

<p>Thank cÃ¡c báº¡n Ä‘Ã£ dÃ nh thá»i gian Ä‘á»ƒ Ä‘á»c Ä‘áº¿n Ä‘Ã¢y. Náº¿u cÃ³ gÃ¬ sai sÃ³t,ráº¥t mong Ä‘Æ°á»£c gÃ³p Ã½ chÃ¢n thÃ nh á»Ÿ pháº§n comment.</p>

<p>P/s: Sáº½ bá»• sung pháº§n comment sá»›m ğŸ˜</p>

<h2 id="references">References</h2>

<p>[1] Denis Ritchie <a href="https://en.wikipedia.org/wiki/Dennis_Ritchie">https://en.wikipedia.org/wiki/Dennis_Ritchie</a></p>

<p>[2] Design of Unix Operating System <a href="https://bit.ly/2XPvvEE">https://bit.ly/2XPvvEE</a></p>

<p>[3] Unix Filesystem Organiztion <a href="https://web.cs.wpi.edu/~rek/DCS/D04/UnixFileSystems.html">https://web.cs.wpi.edu/~rek/DCS/D04/UnixFileSystems.html</a></p>

<p>[4] Relationship between fd and open files <a href="https://man7.org/training/download/lusp_fileio_slides.pdf">https://man7.org/training/download/lusp_fileio_slides.pdf</a></p>

<p>[5] Inside NGINX: How We Designed for Performance &amp; Scale <a href="https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/">https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/</a></p>

<p>[6] Man fork(2) <a href="https://man7.org/linux/man-pages/man2/fork.2.html">https://man7.org/linux/man-pages/man2/fork.2.html</a></p>

    </div>
    
    <h2>Tags:</h2>
        
        <a href="/tag/linux" class="tags"><i class="fa fa-hashtag"></i> linux</a>
        
        <a href="/tag/unix" class="tags"><i class="fa fa-hashtag"></i> unix</a>
        
        <a href="/tag/os" class="tags"><i class="fa fa-hashtag"></i> os</a>
        
    

    
</article>


</main>
<footer class="footer">
    <ul class="footer-links">
        <li>
            <a href="https://blog.dmesg.sh/">Â© 2017 dmesg.sh</a>
        </li>
        <li>
            <a href="https://blog.dmesg.sh/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
        </li>
        <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <i class="fa fa-heart" style="color:#D14;"></i> using <img src="https://blog.dmesg.sh/images/hugo-logo.png" width="22" height="22"></a>
        </li>
    </ul>
    <ul class="footer-social">
        <li><a href="https://github.com/tanlinhnd" target="_blank"><i class="fa fa-github fa-2x"></i></a></li>
        <li><a href="https://linkedin.com/in/tanlinhnd/" target="_blank"><i class="fa fa-linkedin fa-2x"></i></a></li>
        <li><a href="https://www.instagram.com/tanlinhnd/" target="_blank"><i class="fa fa-instagram fa-2x"></i></a></li>
    </ul>
    <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
</footer>

</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'G-ZYB28TCKZV', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>

</html>

